{"ast":null,"code":"var _jsxFileName = \"D:\\\\social-media-app\\\\frontend\\\\src\\\\components\\\\SearchUsers.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Container, Form, Button, ListGroup } from \"react-bootstrap\";\nimport api from \"../api/axiosInstance\";\nimport { useAuth } from \"../context/AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SearchUsers = () => {\n  _s();\n  const [query, setQuery] = useState(\"\");\n  const [results, setResults] = useState([]);\n  const {\n    user\n  } = useAuth();\n  const handleSearch = async e => {\n    e.preventDefault();\n    if (!query.trim()) return;\n    const {\n      data\n    } = await api.get(`/users/search?q=${encodeURIComponent(query)}`);\n    setResults(data);\n  };\n  const follow = async id => {\n    await api.post(`/users/${id}/follow`);\n    alert(\"Followed user\");\n  };\n\n  // ðŸ”¥ Important: create chat (or get existing) with this user\n  const startChat = async id => {\n    try {\n      await api.get(`/chats/with/${id}`);\n      alert(\"Chat created! Now open Chat tab.\");\n    } catch (err) {\n      console.error(err);\n      alert(\"Could not create chat\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    style: {\n      maxWidth: \"600px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: handleSearch,\n      className: \"mb-3 d-flex gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n        placeholder: \"Search users\",\n        value: query,\n        onChange: e => setQuery(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ListGroup, {\n      children: results.map(u => /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n        className: \"d-flex justify-content-between align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [u.name, \" (\", u.email, \")\", user && user._id === u._id && \" (You)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this), user && user._id !== u._id && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            size: \"sm\",\n            onClick: () => follow(u._id),\n            children: \"Follow\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            size: \"sm\",\n            variant: \"secondary\",\n            onClick: () => startChat(u._id),\n            children: \"Message\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 15\n        }, this)]\n      }, u._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n};\n_s(SearchUsers, \"PrNGFd/BBGL1CQAa1jLlGM994gQ=\", false, function () {\n  return [useAuth];\n});\n_c = SearchUsers;\nexport default SearchUsers;\nvar _c;\n$RefreshReg$(_c, \"SearchUsers\");","map":{"version":3,"names":["React","useState","Container","Form","Button","ListGroup","api","useAuth","jsxDEV","_jsxDEV","SearchUsers","_s","query","setQuery","results","setResults","user","handleSearch","e","preventDefault","trim","data","get","encodeURIComponent","follow","id","post","alert","startChat","err","console","error","style","maxWidth","children","onSubmit","className","Control","placeholder","value","onChange","target","fileName","_jsxFileName","lineNumber","columnNumber","type","map","u","Item","name","email","_id","size","onClick","variant","_c","$RefreshReg$"],"sources":["D:/social-media-app/frontend/src/components/SearchUsers.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Container, Form, Button, ListGroup } from \"react-bootstrap\";\nimport api from \"../api/axiosInstance\";\nimport { useAuth } from \"../context/AuthContext\";\n\nconst SearchUsers = () => {\n  const [query, setQuery] = useState(\"\");\n  const [results, setResults] = useState([]);\n  const { user } = useAuth();\n\n  const handleSearch = async (e) => {\n    e.preventDefault();\n    if (!query.trim()) return;\n    const { data } = await api.get(\n      `/users/search?q=${encodeURIComponent(query)}`\n    );\n    setResults(data);\n  };\n\n  const follow = async (id) => {\n    await api.post(`/users/${id}/follow`);\n    alert(\"Followed user\");\n  };\n\n  // ðŸ”¥ Important: create chat (or get existing) with this user\n  const startChat = async (id) => {\n    try {\n      await api.get(`/chats/with/${id}`);\n      alert(\"Chat created! Now open Chat tab.\");\n    } catch (err) {\n      console.error(err);\n      alert(\"Could not create chat\");\n    }\n  };\n\n  return (\n    <Container style={{ maxWidth: \"600px\" }}>\n      <Form onSubmit={handleSearch} className=\"mb-3 d-flex gap-2\">\n        <Form.Control\n          placeholder=\"Search users\"\n          value={query}\n          onChange={(e) => setQuery(e.target.value)}\n        />\n        <Button type=\"submit\">Search</Button>\n      </Form>\n      <ListGroup>\n        {results.map((u) => (\n          <ListGroup.Item\n            key={u._id}\n            className=\"d-flex justify-content-between align-items-center\"\n          >\n            <span>\n              {u.name} ({u.email}){user && user._id === u._id && \" (You)\"}\n            </span>\n            {user && user._id !== u._id && (\n              <div className=\"d-flex gap-2\">\n                <Button size=\"sm\" onClick={() => follow(u._id)}>\n                  Follow\n                </Button>\n                <Button\n                  size=\"sm\"\n                  variant=\"secondary\"\n                  onClick={() => startChat(u._id)}\n                >\n                  Message\n                </Button>\n              </div>\n            )}\n          </ListGroup.Item>\n        ))}\n      </ListGroup>\n    </Container>\n  );\n};\n\nexport default SearchUsers;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}